
> construction-cost-management@0.1.0 dev
> next dev --turbopack

 âš  Invalid next.config.ts options detected: 
 âš      Unrecognized key(s) in object: 'nodeMiddleware' at "experimental"
 âš  See more info here: https://nextjs.org/docs/messages/invalid-next-config
   â–² Next.js 15.5.0 (Turbopack)
   - Local:        http://localhost:3000
   - Network:      http://192.168.3.112:3000
   - Environments: .env.local
   - Experiments (use with caution):
     âœ“ nodeMiddleware

 âœ“ Starting...
 âœ“ Compiled middleware in 105ms
 âœ“ Ready in 719ms
 â—‹ Compiling /api/super-admin/companies ...
 âœ“ Compiled /api/super-admin/companies in 655ms
ğŸ” æ³•äººä½œæˆAPI: é–‹å§‹
ğŸ” Supabaseæ¥ç¶šæƒ…å ±: {
  url: 'https://etezftldzxovgpppyagx.supabase.co',
  hasServiceKey: true
}
âœ… Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä½œæˆå®Œäº†
ğŸ” ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆé–‹å§‹
âœ… companiesãƒ†ãƒ¼ãƒ–ãƒ«æ¥ç¶šæˆåŠŸ
âœ… company_settingsãƒ†ãƒ¼ãƒ–ãƒ«æ¥ç¶šæˆåŠŸ
âœ… usersãƒ†ãƒ¼ãƒ–ãƒ«æ¥ç¶šæˆåŠŸ
âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆå®Œäº†
ğŸ“‹ ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£: { name: 'ãƒ†ã‚¹ãƒˆä¼šç¤¾5', email: 'test5@example.com' }
ğŸ” CADDONè¨­å®šä¿å­˜é–‹å§‹: {
  caddon_enabled: false,
  type: 'boolean',
  isFalse: true,
  isTrue: false
}
âœ… CADDONè¨­å®šä¿å­˜å®Œäº†: false
ğŸ” Mailgunè¨­å®šç¢ºèª:
  - API Key: 1bc95af6...
  - Domain: sandbox0004ce94ed54504b42f2c4a490fe43d.mailgun.org
  - From Email: noreply@sandbox0004ce94ed54504b42f2c4a490fe43d.mailgun.org
  - From Name: SmartCost System
ğŸ” Mailgunãƒ¡ãƒ¼ãƒ«é€ä¿¡é–‹å§‹
å®›å…ˆ: test5@example.com
ä»¶å: æ³•äººã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆå®Œäº†ã®ãŠçŸ¥ã‚‰ã›
ğŸ” Mailgun APIãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡:
  - URL: https://api.mailgun.net/v3/sandbox0004ce94ed54504b42f2c4a490fe43d.mailgun.org/messages
  - Method: POST
  - Auth Header: Basic YXBpOjFiYzk1YWY2ZDE5YjUwMjU5M2EwNDc0MGM5OGU2ZjJmLTFhZTAyYTA4LTRhNzhkNGFi
ğŸ” Mailgun APIãƒ¬ã‚¹ãƒãƒ³ã‚¹:
  - Status: 401
  - Status Text: Unauthorized
  - Response Headers: {
  'access-control-allow-credentials': 'true',
  'access-control-allow-origin': '*',
  'cache-control': 'no-store',
  'content-length': '9',
  'content-type': 'text/plain; charset=utf-8',
  date: 'Fri, 05 Sep 2025 14:44:49 GMT',
  'strict-transport-security': 'max-age=63072000; includeSubDomains',
  'www-authenticate': 'Basic realm="MG API"',
  'x-server': 'influx',
  'x-xss-protection': '1; mode=block'
}
âŒ Mailgunãƒ¡ãƒ¼ãƒ«é€ä¿¡å¤±æ•—: 401 Unauthorized
âŒ ã‚¨ãƒ©ãƒ¼è©³ç´°: Forbidden
 POST /api/super-admin/companies 201 in 2260ms
   Reload env: .env.local
ğŸ” æ³•äººä½œæˆAPI: é–‹å§‹
ğŸ” Supabaseæ¥ç¶šæƒ…å ±: {
  url: 'https://etezftldzxovgpppyagx.supabase.co',
  hasServiceKey: true
}
âœ… Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä½œæˆå®Œäº†
ğŸ” ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆé–‹å§‹
âœ… companiesãƒ†ãƒ¼ãƒ–ãƒ«æ¥ç¶šæˆåŠŸ
âœ… company_settingsãƒ†ãƒ¼ãƒ–ãƒ«æ¥ç¶šæˆåŠŸ
âœ… usersãƒ†ãƒ¼ãƒ–ãƒ«æ¥ç¶šæˆåŠŸ
âœ… ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆå®Œäº†
ğŸ“‹ ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£: { name: 'ãƒ†ã‚¹ãƒˆä¼šç¤¾6', email: 'ito.dev@ii-stylelab.com' }
ğŸ” CADDONè¨­å®šä¿å­˜é–‹å§‹: {
  caddon_enabled: false,
  type: 'boolean',
  isFalse: true,
  isTrue: false
}
âœ… CADDONè¨­å®šä¿å­˜å®Œäº†: false
æ³•äººç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆã‚¨ãƒ©ãƒ¼: Error [AuthApiError]: A user with this email address has already been registered
    at handleError (../../../src/lib/fetch.ts:102:9)
    at async _handleRequest (../../../src/lib/fetch.ts:195:5)
    at async _request (../../../src/lib/fetch.ts:157:16)
    at async GoTrueAdminApi.createUser (../../src/GoTrueAdminApi.ts:162:14)
    at async POST (src/app/api/super-admin/companies/route.ts:349:54)
  347 |         
  348 |         // Supabaseã®èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆ
> 349 |         const { data: authUser, error: authError } = await supabase.auth.admin.createUser({
      |                                                      ^
  350 |           email,
  351 |           password: generatedPassword,
  352 |           email_confirm: true, // ãƒ¡ãƒ¼ãƒ«ç¢ºèªã‚’ã‚¹ã‚­ãƒƒãƒ— {
  __isAuthError: true,
  status: 422,
  code: 'email_exists'
}
ğŸ” Mailgunè¨­å®šç¢ºèª:
  - API Key: 1bc95af6...
  - Domain: sandboxf0004ce94ed54504b42f2c4a490fe43d.mailgun.org
  - From Email: noreply@sandboxf0004ce94ed54504b42f2c4a490fe43d.mailgun.org
  - From Name: SmartCost System
ğŸ” Mailgunãƒ¡ãƒ¼ãƒ«é€ä¿¡é–‹å§‹
å®›å…ˆ: ito.dev@ii-stylelab.com
ä»¶å: æ³•äººã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆå®Œäº†ã®ãŠçŸ¥ã‚‰ã›
ğŸ” Mailgun APIãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡:
  - URL: https://api.mailgun.net/v3/sandboxf0004ce94ed54504b42f2c4a490fe43d.mailgun.org/messages
  - Method: POST
  - Auth Header: Basic YXBpOjFiYzk1YWY2ZDE5YjUwMjU5M2EwNDc0MGM5OGU2ZjJmLTFhZTAyYTA4LTRhNzhkNGFi
ğŸ” Mailgun APIãƒ¬ã‚¹ãƒãƒ³ã‚¹:
  - Status: 200
  - Status Text: OK
  - Response Headers: {
  'access-control-allow-credentials': 'true',
  'access-control-allow-origin': '*',
  'account-id': '68b7068aac8d648af08f7f95',
  'cache-control': 'no-store',
  'content-length': '126',
  'content-type': 'application/json; charset=utf-8',
  date: 'Fri, 05 Sep 2025 14:47:17 GMT',
  'strict-transport-security': 'max-age=63072000; includeSubDomains',
  'x-mailgun-key-id': '1ae02a08-4a78d4ab',
  'x-ratelimit-limit': '51',
  'x-ratelimit-remaining': '50',
  'x-ratelimit-reset': '1757083667743',
  'x-recipient-limit': '26',
  'x-recipient-remaining': '25',
  'x-recipient-reset': '1757083667743',
  'x-server': 'influx',
  'x-xss-protection': '1; mode=block'
}
âœ… Mailgunãƒ¡ãƒ¼ãƒ«é€ä¿¡æˆåŠŸ: {
  id: '<20250905144717.e3fa29e1f243a1f8@sandboxf0004ce94ed54504b42f2c4a490fe43d.mailgun.org>',
  message: 'Queued. Thank you.'
}
 POST /api/super-admin/companies 201 in 1803ms
 â—‹ Compiling /super-admin ...
 âœ“ Compiled /super-admin in 1277ms
âŒ SuperAdminãƒšãƒ¼ã‚¸: ã‚¹ãƒ¼ãƒ‘ãƒ¼ç®¡ç†è€…æ¨©é™ãªã—ã€å¼·åˆ¶ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
 GET /super-admin?companyId=4440fcae-03f2-4b0c-8c55-e19017ce08c9 200 in 1856ms
 âœ“ Compiled /api/super-admin/metrics in 110ms
ğŸ” Supabaseæ¥ç¶šæƒ…å ±: {
  url: 'https://etezftldzxovgpppyagx.supabase.co',
  hasServiceKey: true
}
 GET /favicon.ico?favicon.0b3bf435.ico 200 in 360ms
 GET /api/super-admin/companies 200 in 371ms
ğŸ” Supabaseæ¥ç¶šæƒ…å ±: {
  url: 'https://etezftldzxovgpppyagx.supabase.co',
  hasServiceKey: true
}
 GET /api/super-admin/metrics 200 in 613ms
 GET /api/super-admin/companies 200 in 321ms
 âœ“ Compiled /api/super-admin/companies/[id] in 57ms
 DELETE /api/super-admin/companies/8d423fc6-8933-4b19-a5b8-67b96fdbb5c6 200 in 836ms
 DELETE /api/super-admin/companies/078364c1-8f52-4c83-b822-d9c8fa691580 200 in 355ms
 DELETE /api/super-admin/companies/3daf4ec1-e65c-4f7d-8511-bfe10648e3bc 200 in 404ms
 DELETE /api/super-admin/companies/420d927e-aace-43e6-9a3c-102f4841eae6 200 in 355ms
 PUT /api/super-admin/companies/41ebd10e-7603-4d61-b0c2-9c94e6cd77b5 200 in 760ms
ğŸ” Supabaseæ¥ç¶šæƒ…å ±: {
  url: 'https://etezftldzxovgpppyagx.supabase.co',
  hasServiceKey: true
}
 GET /api/super-admin/companies 200 in 323ms
âŒ SuperAdminãƒšãƒ¼ã‚¸: ã‚¹ãƒ¼ãƒ‘ãƒ¼ç®¡ç†è€…æ¨©é™ãªã—ã€å¼·åˆ¶ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
 GET /super-admin?companyId=4440fcae-03f2-4b0c-8c55-e19017ce08c9 200 in 406ms
ğŸ” Supabaseæ¥ç¶šæƒ…å ±: {
  url: 'https://etezftldzxovgpppyagx.supabase.co',
  hasServiceKey: true
}
ğŸ” Supabaseæ¥ç¶šæƒ…å ±: {
  url: 'https://etezftldzxovgpppyagx.supabase.co',
  hasServiceKey: true
}
 GET /favicon.ico?favicon.0b3bf435.ico 200 in 241ms
 GET /api/super-admin/companies 200 in 365ms
 GET /api/super-admin/metrics 200 in 529ms
ğŸ” Supabaseæ¥ç¶šæƒ…å ±: {
  url: 'https://etezftldzxovgpppyagx.supabase.co',
  hasServiceKey: true
}
 GET /api/super-admin/companies 200 in 335ms
 âœ“ Compiled /login in 163ms
 GET /login 200 in 197ms
